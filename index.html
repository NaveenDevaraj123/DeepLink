<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
        <script>
            window.onload = function() {
                var parameterValue = getParameterValueFromURL() || 'default_value'; // Extract parameter value from URL, set default value if not present
                var deepLink = 'unitydl://testdeeplink?parameter=' + encodeURIComponent(parameterValue);
                                console.log('parameterValue',parameterValue)

                window.location.href = deepLink;
            };

            function getParameterValueFromURL() {
               var queryString = window.location.href.split("?")[1];
var params = queryString.split("&");

var paramObj = {};
params.forEach(function(param) {
  var keyValue = param.split("=");
  var key = decodeURIComponent(keyValue[0]);
  var value = decodeURIComponent(keyValue[1]);
  paramObj[key] = value;
});

console.log('paramObj', paramObj);
               //  var url = window.location.href;
               //  var urlParams = new URLSearchParams(url);
               //  console.log('urlParams',urlParams.get('parameter'))
                return paramObj;
            }
        </script>
    </head>
    <body>
        <h1>My Deep Link Test page</h1>
        <p><a href="unitydl://testdeeplink?parameter=" id="dynamicLink">Launch with Dynamic Parameter</a></p>
        
        <script>
            // Dynamically update the link with a parameter value
            var dynamicLink = document.getElementById("dynamicLink");
            var parameterValue = getParameterValueFromURL() || "your_dynamic_parameter_value"; // Get parameter value from URL, set default if not present
            dynamicLink.href = dynamicLink.href + encodeURIComponent(parameterValue);
        </script>
    </body>
</html>
